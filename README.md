# SummaryGenie Page

> AI ê¸°ë°˜ ì›¹í˜ì´ì§€ ìš”ì•½ Chrome í™•ì¥ í”„ë¡œê·¸ë¨ì„ ìœ„í•œ ì›¹ ëŒ€ì‹œë³´ë“œ ë° êµ¬ë… ê´€ë¦¬ í”Œë«í¼

![Next.js](https://img.shields.io/badge/Next.js-15-black?logo=next.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?logo=typescript)
![Firebase](https://img.shields.io/badge/Firebase-12-orange?logo=firebase)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-3-38bdf8?logo=tailwind-css)
![Paddle](https://img.shields.io/badge/Paddle-Billing-7C3AED)
![License](https://img.shields.io/badge/license-MIT-green)
![Status](https://img.shields.io/badge/status-production-success)

---

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
- [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#-í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)
- [ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸](#-ì£¼ìš”-ê¸°ëŠ¥-ìƒì„¸)
- [API ì—”ë“œí¬ì¸íŠ¸](#-api-ì—”ë“œí¬ì¸íŠ¸)
- [Firebase ë°ì´í„° êµ¬ì¡°](#-firebase-ë°ì´í„°-êµ¬ì¡°)
- [ë°°í¬](#-ë°°í¬)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
- [ê°œë°œ ë¡œë“œë§µ](#-ê°œë°œ-ë¡œë“œë§µ)
- [ê¸°ì—¬í•˜ê¸°](#-ê¸°ì—¬í•˜ê¸°)
- [ë¼ì´ì„¼ìŠ¤](#-ë¼ì´ì„¼ìŠ¤)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

**SummaryGenie Page**ëŠ” Chrome í™•ì¥ í”„ë¡œê·¸ë¨ê³¼ ì—°ë™ë˜ëŠ” ì›¹ ëŒ€ì‹œë³´ë“œë¡œ, ì‚¬ìš©ìì˜ ìš”ì•½ ê¸°ë¡ì„ ê´€ë¦¬í•˜ê³  Pro êµ¬ë…ì„ ì œê³µí•˜ëŠ” SaaS í”Œë«í¼ì…ë‹ˆë‹¤.

### ì£¼ìš” ëª©í‘œ

- âœ… **ê¸°ì¡´ Firebase ë°ì´í„°**ë¥¼ í™œìš©í•œ ì›¹ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•
- âœ… ì‚¬ìš©ì ìš”ì•½ ê¸°ë¡ ì¡°íšŒ ë° ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
- âœ… **Paddle Billing**ì„ í†µí•œ í”„ë¦¬ë¯¸ì—„ êµ¬ë… ëª¨ë¸ ìˆ˜ìµí™”
- âœ… ì‚¬ìš© í†µê³„ ë° ë¶„ì„ ëŒ€ì‹œë³´ë“œ ì œê³µ
- âœ… ì‹¤ì‹œê°„ êµ¬ë… ìƒíƒœ ë™ê¸°í™” ë° ê´€ë¦¬
- âœ… Paddle API ì§ì ‘ ì¡°íšŒë¥¼ í†µí•œ êµ¬ë… ì •ë³´ ìë™/ìˆ˜ë™ ë™ê¸°í™”

### í”„ë¡œì íŠ¸ í˜„í™©

| Phase | ìƒíƒœ | ì„¤ëª… |
|-------|------|------|
| Phase 1 | âœ… ì™„ë£Œ | í”„ë¡œì íŠ¸ ê¸°ë°˜ êµ¬ì¶•, Firebase ì—°ë™ |
| Phase 2 | âœ… ì™„ë£Œ | ìš”ì•½ ê¸°ë¡ ê´€ë¦¬, ê²€ìƒ‰/í•„í„°ë§ |
| Phase 3 | âœ… ì™„ë£Œ | Paddle ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™ |
| Phase 4 | âœ… ì™„ë£Œ | ì‹¤ì‹œê°„ êµ¬ë… ë™ê¸°í™”, ì›¹í›… ì²˜ë¦¬, Paddle API ì§ì ‘ ì¡°íšŒ |
| Phase 5 | ğŸš§ ì§„í–‰ì¤‘ | ìµœì í™” & ì¶”ê°€ ê¸°ëŠ¥ |
| Phase 6 | ğŸ“… ì˜ˆì • | ê³ ê¸‰ ê¸°ëŠ¥ (íŒ€ ê³µìœ , íƒœê·¸ ê´€ë¦¬) |

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ
- âœ… ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸/íšŒì›ê°€ì…
- âœ… Google ì†Œì…œ ë¡œê·¸ì¸
- âœ… ì´ë©”ì¼ ì¸ì¦
- âœ… ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- âœ… ì„¸ì…˜ ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦
- âœ… ë³´í˜¸ëœ ë¼ìš°íŠ¸ (Middleware)

### ğŸ“Š ëŒ€ì‹œë³´ë“œ
- âœ… ì‹¤ì‹œê°„ ì‚¬ìš©ëŸ‰ í†µê³„
- âœ… ìµœê·¼ 7ì¼ ì‚¬ìš© ê·¸ë˜í”„ (Recharts)
- âœ… ì´ë²ˆ ë‹¬ ìš”ì•½ íšŸìˆ˜
- âœ… ìµœê·¼ ìš”ì•½ ê¸°ë¡ 5ê°œ
- âœ… ê°€ì¥ í™œë°œí•œ ìš”ì¼ ë¶„ì„
- âœ… ë„ë©”ì¸ë³„ í†µê³„
- âœ… Pro/Free í”Œëœ ìƒíƒœ í‘œì‹œ

### ğŸ“ ìš”ì•½ ê¸°ë¡ ê´€ë¦¬
- âœ… ë¬´í•œ ìŠ¤í¬ë¡¤ í˜ì´ì§€ë„¤ì´ì…˜
- âœ… ì œëª© + ë‚´ìš© ê¸°ë°˜ ì‹¤ì‹œê°„ ê²€ìƒ‰ (ë””ë°”ìš´ìŠ¤ 500ms)
- âœ… ë„ë©”ì¸ë³„ í•„í„°ë§
- âœ… ì •ë ¬ (ìµœì‹ ìˆœ/ì˜¤ë˜ëœ ìˆœ)
- âœ… ìƒì„¸ ë‚´ìš© ëª¨ë‹¬ ë·°
- âœ… ìš”ì•½ë¬¸ ë³µì‚¬ ê¸°ëŠ¥
- âœ… ë°˜ì‘í˜• ë””ìì¸ (ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼)
- âœ… ì¤‘ë³µ ì œê±° ë° ìµœì í™”ëœ ë°ì´í„° ë¡œë”©

### ğŸ’³ êµ¬ë… ê´€ë¦¬ (Paddle Billing)
- âœ… Free/Pro í”Œëœ ì œê³µ
- âœ… Paddle Checkout ì˜¤ë²„ë ˆì´ ê²°ì œ
- âœ… êµ¬ë… ì·¨ì†Œ ë° ì¬ê°œ
- âœ… ê²°ì œ ìˆ˜ë‹¨ ë³€ê²½
- âœ… êµ¬ë… ìƒíƒœ ì‹¤ì‹œê°„ ì¶”ì 
- âœ… Webhookì„ í†µí•œ ìë™ ë™ê¸°í™”
- âœ… **Paddle API ì§ì ‘ ì¡°íšŒë¥¼ í†µí•œ ìˆ˜ë™ ë™ê¸°í™”**
- âœ… êµ¬ë… ë§Œë£Œì¼ ê³„ì‚° ë° ì•Œë¦¼
- âœ… ê²°ì œ ë‚´ì—­ ê´€ë¦¬
- âœ… **êµ¬ë… ê°±ì‹  ì‹œ ìë™ ì—…ë°ì´íŠ¸ (transaction.completed ì´ë²¤íŠ¸)**

### âš™ï¸ ì„¤ì •
- âœ… í”„ë¡œí•„ í¸ì§‘ (ì´ë¦„, í”„ë¡œí•„ ì‚¬ì§„)
- âœ… **í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ (Firebase Storage, ìµœëŒ€ 2MB)**
- âœ… **ì´ë¯¸ì§€ ì—…ë¡œë“œ ì§„í–‰ë¥  í‘œì‹œ**
- âœ… ì´ë©”ì¼ ë³€ê²½ (ì¬ì¸ì¦ í•„ìš”)
- âœ… ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ì¬ì¸ì¦ í¬í•¨)
- âœ… ì•Œë¦¼ ì„¤ì •
- âœ… ì‚¬ìš© í†µê³„ í™•ì¸
- âœ… ê³„ì • ë³´ì•ˆ ì„¤ì •

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Next.js 15** (App Router) - React í”„ë ˆì„ì›Œí¬
- **TypeScript 5** - íƒ€ì… ì•ˆì •ì„±
- **Tailwind CSS 3** - ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§
- **Shadcn/ui** - ê³ í’ˆì§ˆ UI ì»´í¬ë„ŒíŠ¸
- **Headless UI** - ì ‘ê·¼ì„± ë†’ì€ UI ì»´í¬ë„ŒíŠ¸
- **Recharts** - ë°ì´í„° ì‹œê°í™”
- **React Hot Toast** - ì•Œë¦¼ ì‹œìŠ¤í…œ
- **SWR** - ë°ì´í„° í˜ì¹­ ë° ìºì‹±
- **React Hook Form** - í¼ ê´€ë¦¬

### Backend & Database
- **Firebase Authentication** - ì‚¬ìš©ì ì¸ì¦
- **Firebase Firestore** - NoSQL ë°ì´í„°ë² ì´ìŠ¤ (ì„œë¸Œì»¬ë ‰ì…˜ êµ¬ì¡°)
- **Firebase Storage** - íŒŒì¼ ì €ì¥
- **Next.js API Routes** - ì„œë²„ë¦¬ìŠ¤ API
- **Firebase Admin SDK** - ì„œë²„ ì‚¬ì´ë“œ Firebase ì‘ì—…

### ê²°ì œ & êµ¬ë…
- **Paddle Billing** - ê²°ì œ ì²˜ë¦¬ ë° êµ¬ë… ê´€ë¦¬
- **Paddle Webhooks** - êµ¬ë… ì´ë²¤íŠ¸ ì²˜ë¦¬
- **Paddle.js v2** - í´ë¼ì´ì–¸íŠ¸ SDK
- **Paddle REST API** - ì„œë²„ ì‚¬ì´ë“œ êµ¬ë… ì¡°íšŒ ë° ê´€ë¦¬

### ë°°í¬ & í˜¸ìŠ¤íŒ…
- **Vercel** - ìë™ ë°°í¬ ë° í˜¸ìŠ¤íŒ…
- **GitHub Actions** - CI/CD (ì„ íƒì‚¬í•­)

### ê°œë°œ ë„êµ¬
- **ESLint** - ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
- **Prettier** - ì½”ë“œ í¬ë§·íŒ… (ê¶Œì¥)
- **TypeScript** - ì •ì  íƒ€ì… ê²€ì‚¬

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
summarygenie_page/
â”‚
â”œâ”€ app/                                     # Next.js 14 App Router
â”‚  â”œâ”€ (auth)/                              # ì¸ì¦ ê´€ë ¨ í˜ì´ì§€ ê·¸ë£¹
â”‚  â”‚  â”œâ”€ forgot-password/
â”‚  â”‚  â”‚  â””â”€ page.tsx                       # ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
â”‚  â”‚  â”œâ”€ login/
â”‚  â”‚  â”‚  â””â”€ page.tsx                       # ë¡œê·¸ì¸
â”‚  â”‚  â”œâ”€ signup/
â”‚  â”‚  â”‚  â””â”€ page.tsx                       # íšŒì›ê°€ì…
â”‚  â”‚  â””â”€ verify-email/
â”‚  â”‚     â””â”€ page.tsx                       # ì´ë©”ì¼ ì¸ì¦
â”‚  â”‚
â”‚  â”œâ”€ (dashboard)/                         # ëŒ€ì‹œë³´ë“œ (ì¸ì¦ í•„ìš”)
â”‚  â”‚  â”œâ”€ dashboard/
â”‚  â”‚  â”‚  â””â”€ page.tsx                       # ëŒ€ì‹œë³´ë“œ í™ˆ
â”‚  â”‚  â”œâ”€ history/
â”‚  â”‚  â”‚  â””â”€ page.tsx                       # ìš”ì•½ ê¸°ë¡
â”‚  â”‚  â”œâ”€ settings/
â”‚  â”‚  â”‚  â””â”€ page.tsx                       # ì„¤ì •
â”‚  â”‚  â”œâ”€ subscription/
â”‚  â”‚  â”‚  â””â”€ page.tsx                       # êµ¬ë… ê´€ë¦¬
â”‚  â”‚  â””â”€ layout.tsx                        # ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ
â”‚  â”‚
â”‚  â”œâ”€ (marketing)/                         # ë§ˆì¼€íŒ… í˜ì´ì§€ ê·¸ë£¹
â”‚  â”‚  â”œâ”€ about/                            # ì†Œê°œ í˜ì´ì§€ (ì˜ˆì •)
â”‚  â”‚  â”œâ”€ pricing/                          # ìš”ê¸ˆì œ í˜ì´ì§€ (ì˜ˆì •)
â”‚  â”‚  â”œâ”€ layout.tsx                        # ë§ˆì¼€íŒ… ë ˆì´ì•„ì›ƒ
â”‚  â”‚  â””â”€ page.tsx                          # ëœë”© í˜ì´ì§€
â”‚  â”‚
â”‚  â”œâ”€ api/                                 # API Routes
â”‚  â”‚  â”œâ”€ auth/
â”‚  â”‚  â”‚  â””â”€ session/
â”‚  â”‚  â”‚     â””â”€ route.ts                    # ì„¸ì…˜ ì¿ í‚¤ ê´€ë¦¬
â”‚  â”‚  â”œâ”€ subscription/
â”‚  â”‚  â”‚  â”œâ”€ cancel/
â”‚  â”‚  â”‚  â”‚  â””â”€ route.ts                    # êµ¬ë… ì·¨ì†Œ
â”‚  â”‚  â”‚  â”œâ”€ create/
â”‚  â”‚  â”‚  â”‚  â””â”€ route.ts                    # êµ¬ë… ìƒì„±
â”‚  â”‚  â”‚  â”œâ”€ resume/
â”‚  â”‚  â”‚  â”‚  â””â”€ route.ts                    # êµ¬ë… ì¬ê°œ
â”‚  â”‚  â”‚  â”œâ”€ status/
â”‚  â”‚  â”‚  â”‚  â””â”€ route.ts                    # êµ¬ë… ìƒíƒœ ì¡°íšŒ
â”‚  â”‚  â”‚  â”œâ”€ sync/
â”‚  â”‚  â”‚  â”‚  â””â”€ route.ts                    # êµ¬ë… ìˆ˜ë™ ë™ê¸°í™” (NEW)
â”‚  â”‚  â”‚  â””â”€ update-payment/
â”‚  â”‚  â”‚     â””â”€ route.ts                    # ê²°ì œ ìˆ˜ë‹¨ ë³€ê²½
â”‚  â”‚  â”œâ”€ test-admin/
â”‚  â”‚  â”‚  â””â”€ route.ts                       # Admin SDK í…ŒìŠ¤íŠ¸
â”‚  â”‚  â”œâ”€ test-queries/
â”‚  â”‚  â”‚  â””â”€ route.ts                       # Firestore ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸
â”‚  â”‚  â””â”€ webhooks/
â”‚  â”‚     â””â”€ paddle/
â”‚  â”‚        â””â”€ route.ts                    # Paddle ì›¹í›…
â”‚  â”‚
â”‚  â”œâ”€ test-firebase/
â”‚  â”‚  â””â”€ page.tsx                          # Firebase ì—°ê²° í…ŒìŠ¤íŠ¸
â”‚  â”œâ”€ favicon.ico                          # íŒŒë¹„ì½˜
â”‚  â”œâ”€ globals.css                          # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚  â””â”€ layout.tsx                           # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚
â”œâ”€ components/                              # React ì»´í¬ë„ŒíŠ¸
â”‚  â”œâ”€ dashboard/                           # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚  â”‚  â”œâ”€ DomainFilter.tsx                 # ë„ë©”ì¸ í•„í„°
â”‚  â”‚  â”œâ”€ HistoryModal.tsx                 # ìƒì„¸ ëª¨ë‹¬
â”‚  â”‚  â”œâ”€ HistoryTable.tsx                 # ê¸°ë¡ í…Œì´ë¸”
â”‚  â”‚  â”œâ”€ MobileHeader.tsx                 # ëª¨ë°”ì¼ í—¤ë”
â”‚  â”‚  â”œâ”€ NotificationSettings.tsx         # ì•Œë¦¼ ì„¤ì •
â”‚  â”‚  â”œâ”€ ProfileSettings.tsx              # í”„ë¡œí•„ ì„¤ì •
â”‚  â”‚  â”œâ”€ RecentHistory.tsx                # ìµœê·¼ ê¸°ë¡
â”‚  â”‚  â”œâ”€ SearchBar.tsx                    # ê²€ìƒ‰ ë°”
â”‚  â”‚  â”œâ”€ SecuritySettings.tsx             # ë³´ì•ˆ ì„¤ì •
â”‚  â”‚  â”œâ”€ Sidebar.tsx                      # ì‚¬ì´ë“œë°”
â”‚  â”‚  â”œâ”€ StatsCard.tsx                    # í†µê³„ ì¹´ë“œ
â”‚  â”‚  â”œâ”€ StatsOverview.tsx                # í†µê³„ ê°œìš”
â”‚  â”‚  â””â”€ UsageChart.tsx                   # ì‚¬ìš©ëŸ‰ ì°¨íŠ¸
â”‚  â”‚
â”‚  â”œâ”€ marketing/                           # ë§ˆì¼€íŒ… ì»´í¬ë„ŒíŠ¸
â”‚  â”‚  â”œâ”€ FAQ.tsx                          # FAQ ì„¹ì…˜
â”‚  â”‚  â”œâ”€ Features.tsx                     # ê¸°ëŠ¥ ì†Œê°œ
â”‚  â”‚  â”œâ”€ FinalCTA.tsx                     # ìµœì¢… CTA
â”‚  â”‚  â”œâ”€ Footer.tsx                       # í‘¸í„°
â”‚  â”‚  â”œâ”€ Header.tsx                       # í—¤ë”
â”‚  â”‚  â”œâ”€ Hero.tsx                         # íˆì–´ë¡œ ì„¹ì…˜
â”‚  â”‚  â”œâ”€ HowItWorks.tsx                   # ì‘ë™ ë°©ì‹
â”‚  â”‚  â”œâ”€ Pricing.tsx                      # ìš”ê¸ˆì œ
â”‚  â”‚  â”œâ”€ ProblemStatement.tsx             # ë¬¸ì œ ì œê¸°
â”‚  â”‚  â”œâ”€ ScrollReveal.tsx                 # ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜
â”‚  â”‚  â””â”€ UseCases.tsx                     # ì‚¬ìš© ì‚¬ë¡€
â”‚  â”‚
â”‚  â”œâ”€ payment/                             # ê²°ì œ ì»´í¬ë„ŒíŠ¸
â”‚  â”‚  â”œâ”€ PaddleCheckout.tsx               # Paddle ê²°ì œ
â”‚  â”‚  â””â”€ SubscriptionInfo.tsx             # êµ¬ë… ì •ë³´
â”‚  â”‚
â”‚  â”œâ”€ providers/                           # Context Provider
â”‚  â”‚  â””â”€ PaddleProvider.tsx               # Paddle Provider
â”‚  â”‚
â”‚  â”œâ”€ ui/                                  # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚  â”‚  â”œâ”€ button.tsx                       # ë²„íŠ¼
â”‚  â”‚  â”œâ”€ card.tsx                         # ì¹´ë“œ
â”‚  â”‚  â”œâ”€ dialog.tsx                       # ë‹¤ì´ì–¼ë¡œê·¸
â”‚  â”‚  â”œâ”€ dropdown-menu.tsx                # ë“œë¡­ë‹¤ìš´ ë©”ë‰´
â”‚  â”‚  â”œâ”€ input.tsx                        # ì…ë ¥
â”‚  â”‚  â”œâ”€ label.tsx                        # ë ˆì´ë¸”
â”‚  â”‚  â”œâ”€ select.tsx                       # ì„ íƒ
â”‚  â”‚  â”œâ”€ tabs.tsx                         # íƒ­
â”‚  â”‚  â”œâ”€ textarea.tsx                     # í…ìŠ¤íŠ¸ ì˜ì—­
â”‚  â”‚  â””â”€ toast.tsx                        # í† ìŠ¤íŠ¸ ì•Œë¦¼
â”‚  â”‚
â”‚  â”œâ”€ Header.tsx                           # ê³µí†µ í—¤ë”
â”‚  â”œâ”€ LogoutButton.tsx                     # ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼
â”‚  â””â”€ UserProfile.tsx                      # ì‚¬ìš©ì í”„ë¡œí•„
â”‚
â”œâ”€ contexts/                                # React Context
â”‚  â””â”€ AuthContext.tsx                      # ì¸ì¦ ì»¨í…ìŠ¤íŠ¸
â”‚
â”œâ”€ hooks/                                   # Custom React Hooks
â”‚  â”œâ”€ useAuth.ts                           # ì¸ì¦ í›…
â”‚  â”œâ”€ useHistory.ts                        # ìš”ì•½ ê¸°ë¡ ì¡°íšŒ
â”‚  â”œâ”€ useSubscription.ts                   # êµ¬ë… ìƒíƒœ
â”‚  â””â”€ useUsageStats.ts                     # ì‚¬ìš©ëŸ‰ í†µê³„
â”‚
â”œâ”€ lib/                                     # ìœ í‹¸ë¦¬í‹° & ì„¤ì •
â”‚  â”œâ”€ firebase/                            # Firebase ì„¤ì •
â”‚  â”‚  â”œâ”€ admin-utils.ts                   # Admin ìœ í‹¸ë¦¬í‹°
â”‚  â”‚  â”œâ”€ admin.ts                         # Admin SDK
â”‚  â”‚  â”œâ”€ client-queries.ts                # í´ë¼ì´ì–¸íŠ¸ ì¿¼ë¦¬
â”‚  â”‚  â”œâ”€ client.ts                        # í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
â”‚  â”‚  â”œâ”€ queries.ts                       # Firestore ì¿¼ë¦¬
â”‚  â”‚  â”œâ”€ storage.ts                       # Firebase Storage
â”‚  â”‚  â”œâ”€ types.ts                         # TypeScript íƒ€ì…
â”‚  â”‚  â””â”€ utils.ts                         # Firebase ìœ í‹¸ë¦¬í‹°
â”‚  â”‚
â”‚  â”œâ”€ api-client.ts                        # API í´ë¼ì´ì–¸íŠ¸
â”‚  â”œâ”€ auth.ts                              # ì¸ì¦ í—¬í¼
â”‚  â”œâ”€ paddle-server.ts                     # Paddle ì„œë²„ API
â”‚  â”œâ”€ paddle-webhook.ts                    # Paddle ì›¹í›… ìœ í‹¸
â”‚  â”œâ”€ paddle.ts                            # Paddle í´ë¼ì´ì–¸íŠ¸
â”‚  â”œâ”€ toast-helpers.ts                     # í† ìŠ¤íŠ¸ í—¬í¼
â”‚  â””â”€ utils.ts                             # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚
â”œâ”€ public/                                  # ì •ì  íŒŒì¼
â”‚  â”œâ”€ images/
â”‚  â”‚  â””â”€ logo.png                          # ë¡œê³ 
â”‚  â”œâ”€ file.svg                             # íŒŒì¼ ì•„ì´ì½˜
â”‚  â”œâ”€ globe.svg                            # ê¸€ë¡œë¸Œ ì•„ì´ì½˜
â”‚  â”œâ”€ manifest.json                        # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚  â”œâ”€ next.svg                             # Next.js ë¡œê³ 
â”‚  â”œâ”€ vercel.svg                           # Vercel ë¡œê³ 
â”‚  â””â”€ window.svg                           # ìœˆë„ìš° ì•„ì´ì½˜
â”‚
â”œâ”€ types/                                   # TypeScript íƒ€ì… ì •ì˜
â”‚  â”œâ”€ index.ts                             # ê³µí†µ íƒ€ì…
â”‚  â””â”€ paddle.ts                            # Paddle íƒ€ì…
â”‚
â”œâ”€ .env.example                             # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€ .env.local                               # í™˜ê²½ ë³€ìˆ˜ (git ì œì™¸)
â”œâ”€ .gitignore                               # Git ì œì™¸ íŒŒì¼
â”œâ”€ components.json                          # shadcn/ui ì„¤ì •
â”œâ”€ eslint.config.mjs                        # ESLint ì„¤ì •
â”œâ”€ middleware.ts                            # Next.js ë¯¸ë“¤ì›¨ì–´
â”œâ”€ next-env.d.ts                            # Next.js TypeScript ì •ì˜
â”œâ”€ next.config.ts                           # Next.js ì„¤ì •
â”œâ”€ package-lock.json                        # npm ì ê¸ˆ íŒŒì¼
â”œâ”€ package.json                             # npm íŒ¨í‚¤ì§€ ì„¤ì •
â”œâ”€ postcss.config.js                        # PostCSS ì„¤ì •
â”œâ”€ README.md                                # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€ tailwind.config.js                       # Tailwind CSS ì„¤ì •
â”œâ”€ tsconfig.json                            # TypeScript ì„¤ì •
â””â”€ tsconfig.tsbuildinfo                     # TypeScript ë¹Œë“œ ì •ë³´
```

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Node.js** 20.x ì´ìƒ
- **npm** ë˜ëŠ” **yarn**
- **Firebase í”„ë¡œì íŠ¸** (ê¸°ì¡´ í”„ë¡œì íŠ¸ ì—°ê²°)
- **Paddle ê³„ì •** (Sandbox ë˜ëŠ” Production)

### 1ë‹¨ê³„: ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/your-username/summarygenie_page.git
cd summarygenie_page
```

### 2ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
# ë˜ëŠ”
yarn install
```

### 3ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

```env
# Firebase (í´ë¼ì´ì–¸íŠ¸)
NEXT_PUBLIC_FIREBASE_API_KEY=your-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-auth-domain
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-storage-bucket
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your-messaging-sender-id
NEXT_PUBLIC_FIREBASE_APP_ID=your-app-id

# Firebase Admin (ì„œë²„)
FIREBASE_ADMIN_PROJECT_ID=your-project-id
FIREBASE_ADMIN_CLIENT_EMAIL=your-service-account-email
FIREBASE_ADMIN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# Paddle
NEXT_PUBLIC_PADDLE_ENVIRONMENT=sandbox # ë˜ëŠ” production
NEXT_PUBLIC_PADDLE_CLIENT_TOKEN=your-client-token
PADDLE_API_KEY=your-api-key
PADDLE_WEBHOOK_SECRET=your-webhook-secret

# Paddle Price IDs
NEXT_PUBLIC_PADDLE_PRICE_PRO_MONTHLY=pri_xxx

# ì•± ì„¤ì •
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### 4ë‹¨ê³„: ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
# ë˜ëŠ”
yarn dev
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ì„ ì—´ì–´ í™•ì¸í•©ë‹ˆë‹¤.

### 5ë‹¨ê³„: ë¹Œë“œ (í”„ë¡œë•ì…˜)

```bash
npm run build
npm start
# ë˜ëŠ”
yarn build
yarn start
```

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### Firebase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

1. [Firebase Console](https://console.firebase.google.com/)ì—ì„œ í”„ë¡œì íŠ¸ ìƒì„± ë˜ëŠ” ì„ íƒ
2. **í”„ë¡œì íŠ¸ ì„¤ì •** > **ì¼ë°˜** íƒ­ì—ì„œ ì›¹ ì•± ì¶”ê°€
3. ì„¤ì • ì •ë³´ë¥¼ `.env.local`ì— ë³µì‚¬

```env
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:xxxxx
```

### Firebase Admin SDK ì„¤ì •

1. **í”„ë¡œì íŠ¸ ì„¤ì •** > **ì„œë¹„ìŠ¤ ê³„ì •** íƒ­
2. **ìƒˆ ë¹„ê³µê°œ í‚¤ ìƒì„±** í´ë¦­
3. ë‹¤ìš´ë¡œë“œí•œ JSON íŒŒì¼ì˜ ë‚´ìš©ì„ í™˜ê²½ ë³€ìˆ˜ì— ì„¤ì •

```env
FIREBASE_ADMIN_PROJECT_ID=your-project-id
FIREBASE_ADMIN_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_ADMIN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key-Here\n-----END PRIVATE KEY-----\n"
```

âš ï¸ **ì£¼ì˜**: `FIREBASE_ADMIN_PRIVATE_KEY`ëŠ” í°ë”°ì˜´í‘œë¡œ ê°ì‹¸ê³ , `\n`ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.

### Paddle ì„¤ì •

#### 1. Paddle ê³„ì • ìƒì„±

- [Paddle Dashboard](https://vendors.paddle.com/)ì—ì„œ ê³„ì • ìƒì„±
- Sandbox í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹œì‘

#### 2. API Key ìƒì„±

1. **Developer Tools** > **Authentication** ì—ì„œ API Key ìƒì„±
2. API Keyë¥¼ ì•ˆì „í•œ ê³³ì— ë³´ê´€

```env
PADDLE_API_KEY=your-paddle-api-key
```

#### 3. Client Token ìƒì„±

1. **Developer Tools** > **Client-side Tokens**ì—ì„œ í† í° ìƒì„±
2. ë„ë©”ì¸ ì œí•œ ì„¤ì • ê¶Œì¥

```env
NEXT_PUBLIC_PADDLE_CLIENT_TOKEN=your-paddle-client-token
```

#### 4. Webhook ì„¤ì •

1. **Developer Tools** > **Notifications** ì—ì„œ Webhook ì„¤ì •
2. Webhook URL: `https://your-domain.com/api/webhooks/paddle`
3. í•„ìš”í•œ ì´ë²¤íŠ¸ ì„ íƒ:
   - âœ… `subscription.created`
   - âœ… `subscription.updated`
   - âœ… `subscription.canceled`
   - âœ… `subscription.past_due`
   - âœ… `subscription.paused`
   - âœ… `subscription.resumed`
   - âœ… `transaction.completed`

4. Webhook Secret ë³µì‚¬

```env
PADDLE_WEBHOOK_SECRET=your-webhook-secret
```

#### 5. ìƒí’ˆ(Product) ìƒì„±

1. **Catalog** > **Products** ì—ì„œ ìƒˆ ìƒí’ˆ ìƒì„±
   - ìƒí’ˆëª…: SummaryGenie Pro
   - ê°€ê²©: â‚©9,900/ì›” (ë˜ëŠ” ì›í•˜ëŠ” ê°€ê²©)

2. Price IDë¥¼ í™˜ê²½ ë³€ìˆ˜ì— ì„¤ì •

```env
NEXT_PUBLIC_PADDLE_PRICE_PRO_MONTHLY=pri_01xxxxxxxxxxxxxxxxx
```

#### 6. í™˜ê²½ ì„¤ì •

```env
# ê°œë°œ í™˜ê²½
NEXT_PUBLIC_PADDLE_ENVIRONMENT=sandbox

# í”„ë¡œë•ì…˜ í™˜ê²½
NEXT_PUBLIC_PADDLE_ENVIRONMENT=production
```

---

## ğŸ“š ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

### 1. ì¸ì¦ ì‹œìŠ¤í…œ

#### Firebase Authentication ì—°ë™

```typescript
// lib/auth.ts
import { 
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword,
  signInWithPopup,
  GoogleAuthProvider 
} from 'firebase/auth';

// ì´ë©”ì¼ ë¡œê·¸ì¸
export async function signInWithEmail(email: string, password: string) {
  const auth = getAuthInstance();
  return await signInWithEmailAndPassword(auth, email, password);
}

// Google ë¡œê·¸ì¸
export async function signInWithGoogle() {
  const auth = getAuthInstance();
  const provider = new GoogleAuthProvider();
  return await signInWithPopup(auth, provider);
}
```

#### ì„¸ì…˜ ì¿ í‚¤ ê´€ë¦¬

```typescript
// app/api/auth/session/route.ts
export async function POST(request: NextRequest) {
  const { idToken } = await request.json();
  
  // ID í† í° ê²€ì¦
  const auth = getAdminAuth();
  const decodedToken = await auth.verifyIdToken(idToken);
  
  // ì„¸ì…˜ ì¿ í‚¤ ìƒì„± (5ì¼ ìœ íš¨)
  const sessionCookie = await auth.createSessionCookie(idToken, {
    expiresIn: 60 * 60 * 24 * 5 * 1000, // 5 days
  });
  
  // ì¿ í‚¤ ì„¤ì • ë° ì‘ë‹µ
  const response = NextResponse.json({ success: true });
  response.cookies.set('session', sessionCookie, {
    maxAge: 60 * 60 * 24 * 5,
    httpOnly: true,
    secure: process.env.NODE_ENV === 'production',
  });
  
  return response;
}
```

### 2. ëŒ€ì‹œë³´ë“œ

#### ì‹¤ì‹œê°„ í†µê³„ ì¡°íšŒ

```typescript
// hooks/useUsageStats.ts
export function useMonthlyUsage(userId: string | null) {
  const { data, error } = useSWR(
    userId ? ['monthly-usage', userId] : null,
    async () => {
      const now = new Date();
      const stats = await getMonthlyUsage(
        userId!, 
        now.getFullYear(), 
        now.getMonth() + 1
      );
      return stats;
    },
    {
      refreshInterval: 60000, // 1ë¶„ë§ˆë‹¤ ê°±ì‹ 
      revalidateOnFocus: true,
    }
  );
  
  return {
    total: data?.total || 0,
    loading: !error && !data,
    error,
  };
}
```

#### ì‚¬ìš©ëŸ‰ ì°¨íŠ¸

```typescript
// components/dashboard/UsageChart.tsx
import { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';

export default function UsageChart({ data }: { data: DailyStats[] }) {
  const chartData = data.map(stat => ({
    date: new Date(stat.date).toLocaleDateString('ko-KR', { 
      month: 'short', 
      day: 'numeric' 
    }),
    count: stat.count,
  }));
  
  return (
    <ResponsiveContainer width="100%" height={300}>
      <LineChart data={chartData}>
        <XAxis dataKey="date" />
        <YAxis />
        <Tooltip />
        <Line 
          type="monotone" 
          dataKey="count" 
          stroke="#3b82f6" 
          strokeWidth={2}
        />
      </LineChart>
    </ResponsiveContainer>
  );
}
```

### 3. ìš”ì•½ ê¸°ë¡ ê´€ë¦¬

#### ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„

```typescript
// hooks/useHistory.ts
export function useHistory(userId: string | null, options: HistoryOptions = {}) {
  const { data, size, setSize, isValidating } = useSWRInfinite(
    getKey,
    fetcher,
    {
      revalidateFirstPage: false,
      revalidateOnFocus: false,
    }
  );
  
  const loadMore = useCallback(() => {
    if (!isLoadingMore && hasMore) {
      setSize(size + 1);
    }
  }, [size, setSize, isLoadingMore, hasMore]);
  
  return { history, loadMore, hasMore };
}
```

#### ì‹¤ì‹œê°„ ê²€ìƒ‰ (ë””ë°”ìš´ìŠ¤)

```typescript
// components/dashboard/SearchBar.tsx
export default function SearchBar({ onSearch }: { onSearch: (term: string) => void }) {
  const [searchTerm, setSearchTerm] = useState('');
  
  // 500ms ë””ë°”ìš´ìŠ¤
  useEffect(() => {
    const timer = setTimeout(() => {
      onSearch(searchTerm);
    }, 500);
    
    return () => clearTimeout(timer);
  }, [searchTerm, onSearch]);
  
  return (
    <input
      type="text"
      value={searchTerm}
      onChange={(e) => setSearchTerm(e.target.value)}
      placeholder="ì œëª© ë˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ê²€ìƒ‰..."
      className="w-full px-4 py-2 border rounded-lg"
    />
  );
}
```

### 4. êµ¬ë… ê´€ë¦¬ (Paddle)

#### Paddle Checkout ì—°ë™

```typescript
// components/payment/PaddleCheckout.tsx
'use client';

import { usePaddle } from '@/lib/paddle';
import { PADDLE_PRICES } from '@/lib/paddle';

export function PaddleCheckout() {
  const paddle = usePaddle();
  const { user } = useAuth();
  
  const handleUpgrade = async () => {
    if (!user) return;
    
    // Paddle Checkout ì—´ê¸°
    paddle.Checkout.open({
      items: [
        {
          priceId: PADDLE_PRICES.pro_monthly,
          quantity: 1,
        },
      ],
      customData: {
        userId: user.uid,
        email: user.email || '',
      },
      customer: user.email ? {
        email: user.email,
      } : undefined,
      settings: {
        displayMode: 'overlay',
        theme: 'dark',
        locale: 'ko',
        successUrl: `${window.location.origin}/subscription?success=true`,
      },
    });
  };
  
  return (
    <button onClick={handleUpgrade}>
      Proë¡œ ì—…ê·¸ë ˆì´ë“œ
    </button>
  );
}
```

#### Paddle ì›¹í›… ì²˜ë¦¬ (ê°œì„ ë¨)

```typescript
// app/api/webhooks/paddle/route.ts
export async function POST(request: NextRequest) {
  const rawBody = await request.text();
  const signature = request.headers.get('paddle-signature');
  
  // 1. ì‹œê·¸ë‹ˆì²˜ ê²€ì¦
  const isValid = verifyPaddleWebhook(signature, rawBody);
  
  if (!isValid) {
    return NextResponse.json({ error: 'Invalid signature' }, { status: 401 });
  }
  
  const payload = JSON.parse(rawBody);
  const { event_type, data } = payload;
  
  // 2. ì¤‘ë³µ ì´ë²¤íŠ¸ ì²´í¬
  const isDuplicate = await isDuplicateEvent(payload.event_id);
  if (isDuplicate) {
    return NextResponse.json({ success: true, message: 'Already processed' });
  }
  
  // 3. ì´ë²¤íŠ¸ë³„ ì²˜ë¦¬
  switch (event_type) {
    case 'subscription.created':
      await handleSubscriptionCreated(data);
      break;
    case 'subscription.updated':
      await handleSubscriptionUpdated(data);
      break;
    case 'subscription.canceled':
      await handleSubscriptionCanceled(data);
      break;
    case 'transaction.completed':
      // âœ… êµ¬ë… ê°±ì‹  ì‹œ Paddle APIì—ì„œ ìµœì‹  ì •ë³´ ë™ê¸°í™”
      await handleTransactionCompleted(data);
      if (data.subscription_id) {
        await syncSubscriptionFromPaddle(data.subscription_id);
      }
      break;
  }
  
  // 4. ì´ë²¤íŠ¸ ì²˜ë¦¬ ì™„ë£Œ ê¸°ë¡
  await markEventAsProcessed(payload.event_id, event_type);
  
  return NextResponse.json({ success: true });
}
```

#### êµ¬ë… ìˆ˜ë™ ë™ê¸°í™”

```typescript
// app/api/subscription/sync/route.ts
export async function POST(request: NextRequest) {
  // Firebase ì¸ì¦
  const token = await verifyIdToken(request);
  const userId = token.uid;
  
  // Firestoreì—ì„œ êµ¬ë… ì°¾ê¸°
  const subscription = await getUserSubscription(userId);
  
  // Paddle APIì—ì„œ ìµœì‹  ì •ë³´ ê°€ì ¸ì˜¤ê¸°
  const paddleSubscription = await getPaddleSubscription(
    subscription.paddleSubscriptionId
  );
  
  // Firestore ì—…ë°ì´íŠ¸
  await updateSubscriptionInFirestore(subscription.id, {
    currentPeriodEnd: new Date(paddleSubscription.current_billing_period.ends_at),
    nextBillingDate: paddleSubscription.next_billed_at 
      ? new Date(paddleSubscription.next_billed_at) 
      : null,
    status: paddleSubscription.status,
  });
  
  return NextResponse.json({ 
    success: true, 
    message: 'êµ¬ë… ì •ë³´ê°€ ë™ê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.' 
  });
}
```

### 5. í”„ë¡œí•„ ì„¤ì •

#### í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ

```typescript
// components/dashboard/ProfileSettings.tsx
const handleImageUpload = async () => {
  if (!selectedFile) return;

  setUploading(true);
  setUploadProgress(0);

  try {
    // Firebase Storageì— ì—…ë¡œë“œ + í”„ë¡œí•„ ì—…ë°ì´íŠ¸
    const downloadURL = await uploadAndUpdateProfilePhoto(
      selectedFile,
      (progress: number) => {
        setUploadProgress(progress);
      }
    );

    setPhotoURL(downloadURL);
    showSuccess('í”„ë¡œí•„ ì‚¬ì§„ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
    onUpdate();
  } catch (error: any) {
    showError(error.message || 'ì´ë¯¸ì§€ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
  } finally {
    setUploading(false);
  }
};
```

#### í”„ë¡œí•„ ì •ë³´ ì—…ë°ì´íŠ¸

```typescript
// lib/auth.ts
export async function updateUserProfile(
  displayName?: string,
  photoURL?: string
): Promise<void> {
  const auth = getAuthInstance();
  const user = auth.currentUser;

  if (!user) {
    throw new Error('No user is currently signed in');
  }

  await updateProfile(user, {
    ...(displayName && { displayName }),
    ...(photoURL && { photoURL }),
  });
}
```

---

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦

#### `POST /api/auth/session`
ì„¸ì…˜ ì¿ í‚¤ ìƒì„±

**Request:**
```json
{
  "idToken": "eyJhbGciOiJSUzI1..."
}
```

**Response:**
```json
{
  "success": true,
  "user": {
    "uid": "user123",
    "email": "user@example.com"
  }
}
```

**Headers:**
- `Set-Cookie: session=...; HttpOnly; Secure; Max-Age=432000`

#### `DELETE /api/auth/session`
ë¡œê·¸ì•„ì›ƒ (ì„¸ì…˜ ì¿ í‚¤ ì‚­ì œ)

**Response:**
```json
{
  "success": true,
  "message": "Session deleted successfully"
}
```

### êµ¬ë…

#### `POST /api/subscription/create`
Pro í”Œëœ êµ¬ë… ìƒì„± (Paddle Checkout)

**Headers:**
```
Authorization: Bearer {firebase-id-token}
Content-Type: application/json
```

**Request:**
```json
{
  "priceId": "pri_xxxxxxxxxxxxx",
  "returnUrl": "https://your-domain.com/subscription?success=true"
}
```

**Response:**
```json
{
  "success": true,
  "checkoutUrl": "https://buy.paddle.com/checkout/...",
  "transactionId": "txn_xxxxx"
}
```

**Error Response:**
```json
{
  "success": false,
  "error": "ì´ë¯¸ Pro í”Œëœì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤."
}
```

#### `POST /api/subscription/cancel`
êµ¬ë… ì·¨ì†Œ

**Headers:**
```
Authorization: Bearer {firebase-id-token}
Content-Type: application/json
```

**Request:**
```json
{
  "effective": "next_billing_period"
}
```

**Response:**
```json
{
  "success": true,
  "message": "êµ¬ë…ì´ 2024-12-31ì— ì¢…ë£Œë©ë‹ˆë‹¤.",
  "subscription": {
    "status": "active",
    "cancelAtPeriodEnd": true,
    "currentPeriodEnd": "2024-12-31T23:59:59Z"
  }
}
```

#### `POST /api/subscription/resume`
ì·¨ì†Œ ì˜ˆì •ì¸ êµ¬ë… ì¬ê°œ

**Headers:**
```
Authorization: Bearer {firebase-id-token}
```

**Response:**
```json
{
  "success": true,
  "message": "êµ¬ë…ì´ ì¬ê°œë˜ì—ˆìŠµë‹ˆë‹¤.",
  "subscription": {
    "status": "active",
    "cancelAtPeriodEnd": false
  }
}
```

#### `POST /api/subscription/sync` â­ NEW
êµ¬ë… ì •ë³´ ìˆ˜ë™ ë™ê¸°í™”

**Headers:**
```
Authorization: Bearer {firebase-id-token}
```

**Response:**
```json
{
  "success": true,
  "message": "êµ¬ë… ì •ë³´ê°€ ë™ê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "subscription": {
    "status": "active",
    "currentPeriodEnd": "2024-12-15T00:00:00Z",
    "nextBillingDate": "2024-12-15T00:00:00Z",
    "daysUntilRenewal": 30,
    "isPremium": true
  }
}
```

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:**
- ì›¹í›…ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ
- êµ¬ë… ì •ë³´ê°€ ë§ì§€ ì•Šì„ ë•Œ ("0ì¼ ë‚¨ìŒ" ë¬¸ì œ ë“±)
- ì‚¬ìš©ìê°€ ë¬¸ì œë¥¼ ì‹ ê³ í–ˆì„ ë•Œ

#### `POST /api/subscription/update-payment`
ê²°ì œ ìˆ˜ë‹¨ ë³€ê²½ URL ìƒì„±

**Headers:**
```
Authorization: Bearer {firebase-id-token}
Content-Type: application/json
```

**Request:**
```json
{
  "returnUrl": "https://your-domain.com/subscription?payment_updated=true"
}
```

**Response:**
```json
{
  "success": true,
  "updateUrl": "https://buy.paddle.com/subscription/update/..."
}
```

### ì›¹í›…

#### `POST /api/webhooks/paddle`
Paddle ì›¹í›… ìˆ˜ì‹ 

**Headers:**
```
Paddle-Signature: ts=1234567890;h1=abc123...
Content-Type: application/json
```

**ì²˜ë¦¬í•˜ëŠ” ì´ë²¤íŠ¸:**
- `subscription.created` - êµ¬ë… ìƒì„±
- `subscription.updated` - êµ¬ë… ì—…ë°ì´íŠ¸
- `subscription.canceled` - êµ¬ë… ì·¨ì†Œ
- `subscription.past_due` - ê²°ì œ ì‹¤íŒ¨
- `subscription.paused` - êµ¬ë… ì¼ì‹œì •ì§€
- `subscription.resumed` - êµ¬ë… ì¬ê°œ
- `transaction.completed` - ê²°ì œ ì™„ë£Œ (âœ… Paddle API ì§ì ‘ ì¡°íšŒ ì¶”ê°€)

**Response:**
```json
{
  "success": true
}
```

---

## ğŸ—„ï¸ Firebase ë°ì´í„° êµ¬ì¡°

### 1. `users/{userId}` ì»¬ë ‰ì…˜

ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´

```typescript
interface UserProfile {
  email: string;
  name: string | null;
  isPremium: boolean;
  subscriptionPlan: 'free' | 'pro';
  emailVerified: boolean;
  photoURL?: string | null;
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

**ì˜ˆì‹œ ë¬¸ì„œ:**
```json
{
  "email": "user@example.com",
  "name": "í™ê¸¸ë™",
  "isPremium": true,
  "subscriptionPlan": "pro",
  "emailVerified": true,
  "photoURL": "https://...",
  "createdAt": "2024-01-15T09:00:00Z",
  "updatedAt": "2024-11-15T14:30:00Z"
}
```

### 2. `users/{userId}/history` ì„œë¸Œì»¬ë ‰ì…˜

ì‚¬ìš©ìì˜ ìš”ì•½ ê¸°ë¡ (Chrome í™•ì¥ì—ì„œ ìƒì„±)

```typescript
interface HistoryDocument {
  userId: string;
  title: string;
  url?: string;
  summary?: string;  // Chrome í™•ì¥ì—ì„œ summaryë¡œ ì €ì¥
  content?: string;  // í•˜ìœ„ í˜¸í™˜ì„± ì§€ì›
  createdAt: Timestamp;
  deletedAt?: Timestamp;
  metadata?: {
    domain?: string;
    tags?: string[];
  };
}
```

**ì¸ë±ìŠ¤:**
- ë³µí•© ì¸ë±ìŠ¤: `deletedAt` (ASC), `createdAt` (DESC)

**ì˜ˆì‹œ ë¬¸ì„œ:**
```json
{
  "userId": "user123",
  "title": "Next.js 14 ì™„ë²½ ê°€ì´ë“œ",
  "url": "https://example.com/nextjs-guide",
  "summary": "Next.js 14ì˜ ì£¼ìš” ê¸°ëŠ¥: App Router, Server Components...",
  "createdAt": "2024-11-15T10:30:00Z",
  "metadata": {
    "domain": "example.com",
    "tags": ["ê°œë°œ", "ì›¹"]
  }
}
```

### 3. `users/{userId}/daily` ì„œë¸Œì»¬ë ‰ì…˜

ì¼ì¼ ì‚¬ìš©ëŸ‰ í†µê³„ (Chrome í™•ì¥ì—ì„œ ìƒì„±)

```typescript
interface DailyDocument {
  userId: string;
  date: string; // YYYY-MM-DD
  count: number;
  isPremium: boolean;
  createdAt: Timestamp;
}
```

**ì¸ë±ìŠ¤:**
- ë³µí•© ì¸ë±ìŠ¤: `date` (ASC)

**ì˜ˆì‹œ ë¬¸ì„œ:**
```json
{
  "userId": "user123",
  "date": "2024-11-15",
  "count": 25,
  "isPremium": true,
  "createdAt": "2024-11-15T23:59:59Z"
}
```

### 4. `subscription` ì»¬ë ‰ì…˜ (ìµœìƒìœ„)

Paddle êµ¬ë… ì •ë³´

```typescript
interface SubscriptionDocument {
  userId: string;
  paddleSubscriptionId: string;
  paddleCustomerId: string;
  plan: 'free' | 'pro';
  status: 'active' | 'trialing' | 'past_due' | 'paused' | 'canceled';
  currentPeriodEnd: Timestamp;
  nextBillingDate: Timestamp | null;
  cancelAtPeriodEnd: boolean;
  price: number;
  currency: string;
  priceId: string;
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

**ì¸ë±ìŠ¤:**
- `userId` (ASC)
- `paddleSubscriptionId` (ASC)
- ë³µí•© ì¸ë±ìŠ¤ (ì„ íƒì‚¬í•­): `userId` (ASC), `createdAt` (DESC)

**ì˜ˆì‹œ ë¬¸ì„œ:**
```json
{
  "userId": "user123",
  "paddleSubscriptionId": "sub_01xxxxxxxxx",
  "paddleCustomerId": "ctm_01xxxxxxxxx",
  "plan": "pro",
  "status": "active",
  "currentPeriodEnd": "2024-12-15T00:00:00Z",
  "nextBillingDate": "2024-12-15T00:00:00Z",
  "cancelAtPeriodEnd": false,
  "price": 9900,
  "currency": "KRW",
  "priceId": "pri_01xxxxxxxxx",
  "createdAt": "2024-11-15T10:00:00Z",
  "updatedAt": "2024-11-15T14:30:00Z"
}
```

### 5. `webhook_events` ì»¬ë ‰ì…˜ (ìµœìƒìœ„)

Paddle ì›¹í›… ì´ë²¤íŠ¸ ê¸°ë¡ (ì¤‘ë³µ ë°©ì§€ìš©)

```typescript
interface WebhookEventDocument {
  eventId: string;
  eventType: string;
  processedAt: Timestamp;
  expiresAt: Timestamp; // 30ì¼ í›„ ìë™ ì‚­ì œ
  metadata?: Record<string, any>;
}
```

### 6. `webhook_logs` ì»¬ë ‰ì…˜ (ìµœìƒìœ„)

ì›¹í›… ì²˜ë¦¬ ë¡œê·¸ (ë””ë²„ê¹…ìš©)

```typescript
interface WebhookLogDocument {
  eventId: string;
  eventType: string;
  status: 'success' | 'failed';
  occurredAt: Timestamp;
  processedAt: Timestamp;
  error?: {
    message: string;
    stack?: string;
  };
}
```

---

## ğŸš¢ ë°°í¬

### Vercel ë°°í¬

#### 1. Vercelì— í”„ë¡œì íŠ¸ ì—°ê²°

```bash
# Vercel CLI ì„¤ì¹˜
npm install -g vercel

# ë¡œê·¸ì¸
vercel login

# í”„ë¡œì íŠ¸ ë°°í¬
vercel
```

#### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

Vercel Dashboardì—ì„œ í”„ë¡œì íŠ¸ ì„¤ì • > Environment Variablesì— ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€

**í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:**
- âœ… Firebase (í´ë¼ì´ì–¸íŠ¸): `NEXT_PUBLIC_FIREBASE_*`
- âœ… Firebase (ì„œë²„): `FIREBASE_ADMIN_*`
- âœ… Paddle: `NEXT_PUBLIC_PADDLE_*`, `PADDLE_*`
- âœ… ì•± ì„¤ì •: `NEXT_PUBLIC_APP_URL`

#### 3. ìë™ ë°°í¬ ì„¤ì •

GitHub ì €ì¥ì†Œì™€ ì—°ê²°í•˜ë©´ `main` ë¸Œëœì¹˜ì— pushí•  ë•Œë§ˆë‹¤ ìë™ ë°°í¬ë©ë‹ˆë‹¤.

**GitHub ì—°ë™:**
1. Vercel Dashboard > Import Project
2. GitHub ì €ì¥ì†Œ ì„ íƒ
3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
4. Deploy í´ë¦­

### ë„ë©”ì¸ ì„¤ì •

#### 1. Vercel Dashboardì—ì„œ ë„ë©”ì¸ ì¶”ê°€

1. Vercel Dashboard > Domains
2. Add Domain í´ë¦­
3. ì›í•˜ëŠ” ë„ë©”ì¸ ì…ë ¥

#### 2. DNS ì„¤ì •

**A ë ˆì½”ë“œ:**
```
Type: A
Name: @
Value: 76.76.21.21
```

**CNAME ë ˆì½”ë“œ:**
```
Type: CNAME
Name: www
Value: cname.vercel-dns.com
```

#### 3. í™˜ê²½ ë³€ìˆ˜ ì—…ë°ì´íŠ¸

í”„ë¡œë•ì…˜ ë„ë©”ì¸ìœ¼ë¡œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

```env
NEXT_PUBLIC_APP_URL=https://your-domain.com
```

### Paddle ì›¹í›… URL ì—…ë°ì´íŠ¸

#### 1. Paddle Dashboard ì„¤ì •

1. Paddle Dashboard > Developer Tools > Notifications
2. Webhook URLì„ í”„ë¡œë•ì…˜ ë„ë©”ì¸ìœ¼ë¡œ ë³€ê²½:
   ```
   https://your-domain.com/api/webhooks/paddle
   ```

#### 2. Webhook í…ŒìŠ¤íŠ¸

Paddle Dashboardì—ì„œ "Send Test Event" ë²„íŠ¼ìœ¼ë¡œ ì›¹í›…ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

#### 3. ì›¹í›… ì‹œê·¸ë‹ˆì²˜ ê²€ì¦

í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ ì›¹í›… ì‹œê·¸ë‹ˆì²˜ ê²€ì¦ì„ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤:

```typescript
// app/api/webhooks/paddle/route.ts
const isValid = verifyWebhookSignature(
  signature,
  rawBody,
  process.env.PADDLE_WEBHOOK_SECRET!
);

if (!isValid) {
  return NextResponse.json({ error: 'Invalid signature' }, { status: 401 });
}
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. Firebase ì—°ê²° ì˜¤ë¥˜

**ì¦ìƒ:**
```
Error: Firebase: Error (auth/invalid-api-key)
```

**í•´ê²° ë°©ë²•:**
1. `.env.local` íŒŒì¼ì˜ `NEXT_PUBLIC_FIREBASE_API_KEY` í™•ì¸
2. Firebase Consoleì—ì„œ API í‚¤ê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
3. ê°œë°œ ì„œë²„ ì¬ì‹œì‘: `npm run dev`

### 2. Paddle Checkoutì´ ì—´ë¦¬ì§€ ì•ŠìŒ

**ì¦ìƒ:**
```
Error: Paddle is not initialized
```

**í•´ê²° ë°©ë²•:**

1. `NEXT_PUBLIC_PADDLE_CLIENT_TOKEN`ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
2. Paddle.js ìŠ¤í¬ë¦½íŠ¸ê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
3. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ `window.Paddle` ê°ì²´ í™•ì¸

```typescript
// ë””ë²„ê¹… ì½”ë“œ
console.log('Paddle loaded:', !!window.Paddle);
console.log('Paddle environment:', process.env.NEXT_PUBLIC_PADDLE_ENVIRONMENT);
```

### 3. ì„¸ì…˜ ì¿ í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ:**
ë¡œê·¸ì¸ í›„ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œ ë¡œê·¸ì•„ì›ƒë¨

**í•´ê²° ë°©ë²•:**

1. ë¸Œë¼ìš°ì €ê°€ ì¿ í‚¤ë¥¼ ì°¨ë‹¨í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸
2. `httpOnly`, `secure` ì†ì„± í™•ì¸
3. í”„ë¡œë•ì…˜ì—ì„œëŠ” `secure: true` ì„¤ì •

```typescript
// middleware.ts
export async function middleware(request: NextRequest) {
  const session = request.cookies.get('session')?.value;
  
  if (!session) {
    console.log('âŒ No session cookie found');
    return NextResponse.redirect(new URL('/login', request.url));
  }
  
  // ì„¸ì…˜ ê²€ì¦
  try {
    await getAdminAuth().verifySessionCookie(session);
    console.log('âœ… Valid session');
  } catch (error) {
    console.error('âŒ Invalid session:', error);
    return NextResponse.redirect(new URL('/login', request.url));
  }
}
```

### 4. Paddle Webhook ì‹œê·¸ë‹ˆì²˜ ê²€ì¦ ì‹¤íŒ¨

**ì¦ìƒ:**
```
Error: Invalid webhook signature
```

**í•´ê²° ë°©ë²•:**

1. `PADDLE_WEBHOOK_SECRET`ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
2. Webhook URLì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸ (HTTPS í•„ìˆ˜)
3. Paddle Dashboardì—ì„œ Webhook ì¬ìƒì„±
4. ì›ë³¸ ìš”ì²­ ë³¸ë¬¸(raw body) ì‚¬ìš© í™•ì¸

```typescript
// app/api/webhooks/paddle/route.ts
export async function POST(request: NextRequest) {
  // âœ… ë°˜ë“œì‹œ ì›ë³¸ í…ìŠ¤íŠ¸ë¡œ ì½ê¸°
  const rawBody = await request.text();
  const signature = request.headers.get('paddle-signature');
  
  console.log('Signature:', signature);
  console.log('Webhook Secret:', process.env.PADDLE_WEBHOOK_SECRET?.substring(0, 10) + '...');
  
  const isValid = verifyPaddleWebhook(signature, rawBody);
  
  if (!isValid) {
    console.error('âŒ Invalid signature');
    return NextResponse.json({ error: 'Invalid signature' }, { status: 401 });
  }
  
  console.log('âœ… Valid signature');
  // ...
}
```

### 5. Firestore ì¿¼ë¦¬ ì„±ëŠ¥ ë¬¸ì œ

**ì¦ìƒ:**
ëŒ€ì‹œë³´ë“œ ë¡œë”©ì´ ëŠë¦¼

**í•´ê²° ë°©ë²•:**

1. **ì¸ë±ìŠ¤ ìƒì„±**: Firebase Console > Firestore > Indexes
2. **í˜ì´ì§€ë„¤ì´ì…˜ ìµœì í™”**: `pageSize` ì¡°ì •
3. **SWR ìºì‹± í™œìš©**: `revalidateOnFocus: false` ì„¤ì •

```typescript
// hooks/useHistory.ts
const { data, error } = useSWRInfinite(
  getKey,
  fetcher,
  {
    revalidateFirstPage: false,
    revalidateOnFocus: false,
    revalidateOnReconnect: false,
    dedupingInterval: 60000, // 1ë¶„
  }
);
```

**í•„ìˆ˜ ì¸ë±ìŠ¤:**

1. `users/{userId}/history`:
   - ë³µí•© ì¸ë±ìŠ¤: `deletedAt` (ASC), `createdAt` (DESC)

2. `users/{userId}/daily`:
   - ë³µí•© ì¸ë±ìŠ¤: `date` (ASC)

3. `subscription`:
   - ë‹¨ì¼ ì¸ë±ìŠ¤: `userId` (ASC)
   - ë‹¨ì¼ ì¸ë±ìŠ¤: `paddleSubscriptionId` (ASC)

### 6. CORS ì˜¤ë¥˜

**ì¦ìƒ:**
```
Access to fetch at '...' from origin '...' has been blocked by CORS policy
```

**í•´ê²° ë°©ë²•:**

Firebase Storage CORS ì„¤ì •:

1. `cors.json` íŒŒì¼ ìƒì„±:
```json
[
  {
    "origin": ["https://your-domain.com", "http://localhost:3000"],
    "method": ["GET", "HEAD", "PUT", "POST", "DELETE"],
    "maxAgeSeconds": 3600
  }
]
```

2. CORS ì ìš©:
```bash
gsutil cors set cors.json gs://your-bucket-name
```

### 7. ì„œë¸Œì»¬ë ‰ì…˜ ì¿¼ë¦¬ ì˜¤ë¥˜

**ì¦ìƒ:**
```
Error: Missing or insufficient permissions
```

**í•´ê²° ë°©ë²•:**

Firestore ë³´ì•ˆ ê·œì¹™ ì—…ë°ì´íŠ¸:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ì‚¬ìš©ì ë¬¸ì„œ
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      
      // history ì„œë¸Œì»¬ë ‰ì…˜
      match /history/{historyId} {
        allow read: if request.auth != null && request.auth.uid == userId;
        allow write: if request.auth != null && request.auth.uid == userId;
      }
      
      // daily ì„œë¸Œì»¬ë ‰ì…˜
      match /daily/{dailyId} {
        allow read: if request.auth != null && request.auth.uid == userId;
        allow write: if request.auth != null && request.auth.uid == userId;
      }
    }
    
    // subscription ì»¬ë ‰ì…˜
    match /subscription/{subId} {
      allow read: if request.auth != null && 
                     resource.data.userId == request.auth.uid;
      allow write: if false; // ì„œë²„ì—ì„œë§Œ ì“°ê¸°
    }
  }
}
```

### 8. êµ¬ë… ê°±ì‹  í›„ "0ì¼ ë‚¨ìŒ" ë¬¸ì œ â­ NEW

**ì¦ìƒ:**
- Pro í”Œëœ êµ¬ë… ì¤‘
- Paddleì—ì„œ ê²°ì œê°€ ì™„ë£Œë˜ì—ˆì§€ë§Œ ëŒ€ì‹œë³´ë“œì—ì„œ "ë‹¤ìŒ ê²°ì œê¹Œì§€ 0ì¼ ë‚¨ìŒ"ìœ¼ë¡œ í‘œì‹œ
- ì‹¤ì œë¡œëŠ” 30ì¼ ì •ë„ ë‚¨ì•„ìˆì–´ì•¼ í•¨

**ì›ì¸:**
- Paddle ì›¹í›…ì˜ ì´ë²¤íŠ¸ ìˆœì„œ ë¬¸ì œ
- `transaction.completed` ì´ë²¤íŠ¸ ì²˜ë¦¬ ì‹œ `currentPeriodEnd` ì—…ë°ì´íŠ¸ ëˆ„ë½
- `subscription.updated` ì´ë²¤íŠ¸ê°€ ëŠ¦ê²Œ ì˜¤ê±°ë‚˜ ì˜¤ì§€ ì•ŠëŠ” ê²½ìš°

**í•´ê²° ë°©ë²•:**

**1. ìˆ˜ë™ ë™ê¸°í™” (ì¦‰ì‹œ í•´ê²°)**

êµ¬ë… ê´€ë¦¬ í˜ì´ì§€ì—ì„œ "êµ¬ë… ì •ë³´ ë™ê¸°í™”" ë²„íŠ¼ í´ë¦­:

```typescript
// êµ¬ë… ê´€ë¦¬ í˜ì´ì§€ì—ì„œ
const handleSync = async () => {
  const response = await fetch('/api/subscription/sync', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${firebaseIdToken}`,
    },
  });
  
  if (response.ok) {
    // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì •í™•í•œ ë‚ ì§œ í‘œì‹œ
    window.location.reload();
  }
};
```

**2. ìë™ ë™ê¸°í™” (ê·¼ë³¸ í•´ê²°)**

ì´ë¯¸ ì ìš©ë¨ - `transaction.completed` ì´ë²¤íŠ¸ì—ì„œ Paddle API ì§ì ‘ ì¡°íšŒ:

```typescript
// app/api/webhooks/paddle/route.ts
async function handleTransactionCompleted(data: any) {
  // ê²°ì œ ê¸°ë¡ ì €ì¥
  await savePaymentRecord(data);
  
  // âœ… êµ¬ë… ê´€ë ¨ ê²°ì œì¸ ê²½ìš° Paddle APIì—ì„œ ìµœì‹  ì •ë³´ ë™ê¸°í™”
  if (data.subscription_id) {
    await syncSubscriptionFromPaddle(data.subscription_id);
  }
}
```

**ì˜ˆë°©:**
- Firestore ì¸ë±ìŠ¤ ìƒì„± (ìœ„ ì„¹ì…˜ 5 ì°¸ì¡°)
- Paddle ì›¹í›… ì´ë²¤íŠ¸ ë¡œê·¸ í™•ì¸
- ì •ê¸°ì ì¸ êµ¬ë… ìƒíƒœ ì ê²€

### 9. Firestore ì¸ë±ìŠ¤ í•„ìš” ì˜¤ë¥˜

**ì¦ìƒ:**
```
Error: 9 FAILED_PRECONDITION: The query requires an index
```

**í•´ê²° ë°©ë²•:**

**ì˜µì…˜ 1: ì¸ë±ìŠ¤ ìƒì„± (ê¶Œì¥)**

ì—ëŸ¬ ë©”ì‹œì§€ì˜ ë§í¬ë¥¼ í´ë¦­í•˜ì—¬ Firebase Consoleì—ì„œ ì¸ë±ìŠ¤ ìë™ ìƒì„±

**ì˜µì…˜ 2: ì¿¼ë¦¬ ìˆ˜ì •**

ì¸ë±ìŠ¤ê°€ í•„ìš” ì—†ë„ë¡ ì¿¼ë¦¬ ë³€ê²½:

```typescript
// Before (ì¸ë±ìŠ¤ í•„ìš”)
const snapshot = await db
  .collection('subscription')
  .where('userId', '==', userId)
  .orderBy('createdAt', 'desc')
  .limit(1)
  .get();

// After (ì¸ë±ìŠ¤ ë¶ˆí•„ìš” - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì •ë ¬)
const snapshot = await db
  .collection('subscription')
  .where('userId', '==', userId)
  .get();

const sortedDocs = snapshot.docs.sort((a, b) => 
  b.data().createdAt.toMillis() - a.data().createdAt.toMillis()
);
const latestDoc = sortedDocs[0];
```

### 10. ProfileSettings Props íƒ€ì… ì˜¤ë¥˜ â­ NEW

**ì¦ìƒ:**
```typescript
error TS2322: Type '{ key: number; user: User; onUpdate: () => void; }' is not assignable to type 'IntrinsicAttributes & StatsOverviewProps'.
  Property 'user' does not exist on type 'IntrinsicAttributes & StatsOverviewProps'.
```

**ì›ì¸:**
- `ProfileSettings.tsx` ì»´í¬ë„ŒíŠ¸ê°€ ì˜ëª»ëœ Props íƒ€ì…(`StatsOverviewProps`)ì„ ì‚¬ìš©
- `user` propì´ íƒ€ì… ì •ì˜ì— ì—†ìŒ

**í•´ê²° ë°©ë²•:**

**1. ProfileSettings ì»´í¬ë„ŒíŠ¸ Props íƒ€ì… ì •ì˜:**

```typescript
// components/dashboard/ProfileSettings.tsx
interface ProfileSettingsProps {
  user: User;
  onUpdate: () => void;
}

export default function ProfileSettings({ user, onUpdate }: ProfileSettingsProps) {
  // ...
}
```

**2. ì˜¬ë°”ë¥¸ í•¨ìˆ˜ ì‚¬ìš©:**

```typescript
// lib/auth.ts í•¨ìˆ˜ ì‚¬ìš© ì‹œ
// âŒ ì˜ëª»ëœ ë°©ë²•
await uploadProfileImage(selectedFile);  // ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜

// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
await uploadAndUpdateProfilePhoto(selectedFile, (progress) => {
  setUploadProgress(progress);
});

// âŒ ì˜ëª»ëœ ë°©ë²•
await updateUserProfile({ displayName: name });  // ê°ì²´ ì „ë‹¬

// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
await updateUserProfile(name);  // ê°œë³„ ë§¤ê°œë³€ìˆ˜ ì „ë‹¬
```

### 11. Next.js 15 ì„¤ì • ê²½ê³  â­ NEW

**ì¦ìƒ:**
```
âš  Invalid next.config.ts options detected: 
âš  Unrecognized key(s) in object: 'swcMinify'
âš  Webpack is configured while Turbopack is not
```

**ì›ì¸:**
- Next.js 15ì—ì„œëŠ” `swcMinify`ê°€ ê¸°ë³¸ í™œì„±í™”ë˜ì–´ ë¶ˆí•„ìš”
- Turbopack ì‚¬ìš© ì‹œ Webpack ì„¤ì •ì´ ìˆìœ¼ë©´ ì¶©ëŒ ê°€ëŠ¥

**í•´ê²° ë°©ë²•:**

`next.config.ts` íŒŒì¼ ìˆ˜ì •:

```typescript
// âŒ Before
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
  swcMinify: true,  // ì œê±° í•„ìš”
  webpack: (config) => {
    // Webpack ì„¤ì •...
    return config;
  },
};

export default nextConfig;

// âœ… After
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
  // swcMinify ì œê±° (Next.js 15ì—ì„œ ê¸°ë³¸ í™œì„±í™”)
  
  images: {
    domains: ['firebasestorage.googleapis.com'],
  },
  
  // Turbopack ì‚¬ìš© ì‹œ Webpack ì„¤ì • ì œê±° ê¶Œì¥
  // ë˜ëŠ” Turbopack ì„¤ì •ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
};

export default nextConfig;
```

**ì°¸ê³ :**
- ì•±ì€ ê²½ê³ ê°€ ìˆì–´ë„ ì •ìƒ ì‘ë™
- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì •ë¦¬ ê¶Œì¥
- ê¸‰í•˜ì§€ ì•Šìœ¼ë©´ ë‚˜ì¤‘ì— ìˆ˜ì • ê°€ëŠ¥

---

## ğŸ“ˆ ê°œë°œ ë¡œë“œë§µ

### âœ… Phase 1: ê¸°ë°˜ êµ¬ì¶• (ì™„ë£Œ)
- [x] Next.js 15 í”„ë¡œì íŠ¸ ì…‹ì—…
- [x] Firebase ì—°ë™ (Authentication, Firestore)
- [x] ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
- [x] ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ
- [x] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [x] Middleware ë³´í˜¸

### âœ… Phase 2: ê¸°ë¡ ê´€ë¦¬ (ì™„ë£Œ)
- [x] ìš”ì•½ ê¸°ë¡ ì¡°íšŒ (ì„œë¸Œì»¬ë ‰ì…˜)
- [x] ê²€ìƒ‰ ë° í•„í„°ë§
- [x] ë¬´í•œ ìŠ¤í¬ë¡¤ í˜ì´ì§€ë„¤ì´ì…˜
- [x] ìƒì„¸ ëª¨ë‹¬
- [x] ë„ë©”ì¸ë³„ í†µê³„
- [x] ë°˜ì‘í˜• ë””ìì¸

### âœ… Phase 3: ê²°ì œ ì‹œìŠ¤í…œ (ì™„ë£Œ)
- [x] Paddle Billing ì—°ë™
- [x] êµ¬ë… ìƒì„±/ì·¨ì†Œ/ì¬ê°œ
- [x] ì›¹í›… ì²˜ë¦¬ ë° ì‹œê·¸ë‹ˆì²˜ ê²€ì¦
- [x] êµ¬ë… ê´€ë¦¬ í˜ì´ì§€
- [x] ê²°ì œ ìˆ˜ë‹¨ ë³€ê²½
- [x] ì¤‘ë³µ ì´ë²¤íŠ¸ ë°©ì§€

### âœ… Phase 4: ì‹¤ì‹œê°„ ë™ê¸°í™” (ì™„ë£Œ)
- [x] ì‹¤ì‹œê°„ êµ¬ë… ìƒíƒœ ì¶”ì 
- [x] Firestore ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ
- [x] ì›¹í›… ì´ë²¤íŠ¸ ë¡œê¹…
- [x] êµ¬ë… ìƒíƒœ ìë™ ì—…ë°ì´íŠ¸
- [x] ì‚¬ìš©ì í”„ë¡œí•„ ì‹¤ì‹œê°„ ë™ê¸°í™”
- [x] **Paddle API ì§ì ‘ ì¡°íšŒ ë° ë™ê¸°í™”** â­
- [x] **ìˆ˜ë™ êµ¬ë… ë™ê¸°í™” ê¸°ëŠ¥** â­
- [x] **êµ¬ë… ê°±ì‹  ì‹œ ìë™ ì—…ë°ì´íŠ¸** â­

### ğŸš§ Phase 5: ìµœì í™” & ì¶”ê°€ ê¸°ëŠ¥ (ì§„í–‰ ì¤‘)
- [ ] ì„±ëŠ¥ ìµœì í™” (ì´ë¯¸ì§€, ë²ˆë“¤ í¬ê¸°)
- [ ] SEO ìµœì í™” (ë©”íƒ€ íƒœê·¸, Sitemap)
- [ ] ë‹¤êµ­ì–´ ì§€ì› (i18n)
- [ ] ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ (Sentry)
- [ ] ë¶„ì„ ë„êµ¬ (Google Analytics)
- [x] PWA ì§€ì›
- [ ] ë‹¤í¬ ëª¨ë“œ ê°œì„ 
- [ ] ìºì‹± ì „ëµ ìµœì í™”
- [x] **í”„ë¡œí•„ ì„¤ì • í˜ì´ì§€ ì™„ì„±** â­
- [x] **í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ** â­
- [x] **ë³´ì•ˆ ì„¤ì • (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë³€ê²½)** â­

### ğŸ“… Phase 6: ê³ ê¸‰ ê¸°ëŠ¥ (ì˜ˆì •)
- [ ] íŒ€ ê³µìœ  ê¸°ëŠ¥
- [ ] íƒœê·¸ ê´€ë¦¬ ì‹œìŠ¤í…œ
- [ ] ì¦ê²¨ì°¾ê¸°
- [ ] PDF ë‚´ë³´ë‚´ê¸°
- [ ] API í‚¤ ë°œê¸‰ (ì™¸ë¶€ ì—°ë™)
- [ ] ìš”ì•½ í…œí”Œë¦¿
- [ ] ëŒ€ëŸ‰ ì‘ì—… (ì¼ê´„ ì‚­ì œ, ë‚´ë³´ë‚´ê¸°)
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ (ì´ë©”ì¼, í‘¸ì‹œ)
- [ ] Chrome í™•ì¥ê³¼ ì‹¤ì‹œê°„ ë™ê¸°í™”
- [ ] ê³ ê¸‰ í•„í„°ë§ (ë‚ ì§œ ë²”ìœ„, ë³µí•© ì¡°ê±´)

---

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

SummaryGenie Page í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!

### ê¸°ì—¬ ê°€ì´ë“œë¼ì¸

1. **Fork the Project**
   ```bash
   git clone https://github.com/your-username/summarygenie_page.git
   ```

2. **Create your Feature Branch**
   ```bash
   git checkout -b feature/AmazingFeature
   ```

3. **Commit your Changes**
   ```bash
   git commit -m 'Add some AmazingFeature'
   ```

4. **Push to the Branch**
   ```bash
   git push origin feature/AmazingFeature
   ```

5. **Open a Pull Request**

### ì½”ë“œ ìŠ¤íƒ€ì¼

- **ESLint** ê·œì¹™ ì¤€ìˆ˜
- **TypeScript** íƒ€ì… ëª…ì‹œ
- **Tailwind CSS** ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ì‚¬ìš©
- **ì»´í¬ë„ŒíŠ¸**: ë‹¨ì¼ ì±…ì„ ì›ì¹™
- **í•¨ìˆ˜**: ëª…í™•í•œ ì´ë¦„, JSDoc ì£¼ì„

### ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜

```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
style: ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½ ë“±
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€
chore: ë¹Œë“œ ì‘ì—…, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì • ë“±
perf: ì„±ëŠ¥ ê°œì„ 
```

ì˜ˆì‹œ:
```
feat: Add profile photo upload to settings page
fix: Fix subscription renewal date sync issue
docs: Update README with ProfileSettings component
refactor: Optimize Firestore queries with subcollections
perf: Add image upload progress tracking
```

---

## ğŸ“ ë¼ì´ì„¼ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” **MIT ë¼ì´ì„¼ìŠ¤** í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

```
MIT License

Copyright (c) 2025 SummaryGenie Team

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## ğŸ“§ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì§ˆë¬¸ì´ë‚˜ ì œì•ˆì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì•„ë˜ë¡œ ì—°ë½ ì£¼ì„¸ìš”:

- **ì´ë©”ì¼**: support@summarygenie.com
- **ì›¹ì‚¬ì´íŠ¸**: https://summarygenie.app
- **GitHub**: https://github.com/your-username/summarygenie_page
- **ì´ìŠˆ íŠ¸ë˜ì»¤**: https://github.com/your-username/summarygenie_page/issues

---

## ğŸ™ ê°ì‚¬ì˜ ë§

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë“¤ì˜ ë„ì›€ì„ ë°›ì•˜ìŠµë‹ˆë‹¤:

- [Next.js](https://nextjs.org/) - React í”„ë ˆì„ì›Œí¬
- [Firebase](https://firebase.google.com/) - ë°±ì—”ë“œ ì„œë¹„ìŠ¤
- [Paddle](https://www.paddle.com/) - ê²°ì œ í”Œë«í¼
- [Tailwind CSS](https://tailwindcss.com/) - CSS í”„ë ˆì„ì›Œí¬
- [Shadcn/ui](https://ui.shadcn.com/) - UI ì»´í¬ë„ŒíŠ¸
- [Recharts](https://recharts.org/) - ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- [Lucide Icons](https://lucide.dev/) - ì•„ì´ì½˜
- [SWR](https://swr.vercel.app/) - ë°ì´í„° í˜ì¹­
- [React Hot Toast](https://react-hot-toast.com/) - ì•Œë¦¼ ì‹œìŠ¤í…œ

---

**Made with â¤ï¸ by SummaryGenie Team**

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025ë…„ 11ì›” 16ì¼*